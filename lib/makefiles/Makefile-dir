#
# Makefile for a directory
#

-include Makefile-local

ifndef DEST_DIR
  DEST_DIR := $(HOME)
endif

ifndef MODE
  MODE := 755
endif

# TODO: Pass the path in instead of hard-wiring it.
DIR_PATH := $(DEST_DIR)/$(subst dot-,.,$(shell pwd | sed -e 's|^.*/work/||'))


default: build


build:
	@echo Nothing to do here.


$(DIR_PATH)::
	mkdir -p "$@"
	chmod $(MODE) "$@"


ifndef INERT
install: $(DIR_PATH)
else
install:
	@echo "Inert; not installing in $(DIR_PATH)."
endif


uninstall::
	@echo Not removing directory $(DIR_PATH)


clean:
	rm -rf $(TO_CLEAN) *~
